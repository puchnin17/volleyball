#include <iostream>

using namespace std;

// чтобы выводыли все на табло 
void tablo(int* team1, int* team2) {
    //  первые три игрока первой команды
    for (int i = 0; i < 3; i++) {
        cout << team1[i] << " ";
    } 
    cout << "  "; // пробел между командами
    //  первые три игрока второй команды
    for (int i = 0; i < 3; i++) {
        cout << team2[i] << " ";
    }
    cout << '\n';

    //  последние три игрока первой команды
    for (int i = 5; i >= 3; i--) {
        cout << team1[i] << " ";
    }
    cout << "  "; // Пробел между командами
    //  последние три игрока второй команды
    for (int i = 5; i >= 3; i--) {
        cout << team2[i] << " ";
    }
    cout << '\n';
}

//  переход игроков в команде
void perehod(int* team) {
    int per = team[5]; // сохраняем последнего игрока
    // двигаем всех игроков вправо
    for (int i = 5; i > 0; i--) {
        team[i] = team[i - 1];
    }
    team[0] = per; // первого игрока делаем равным сохраненному последнему
}

// функция для проведения волейбольного матча
void volleyball(int* team1, int* team2) {
    int win1 = 0;
    int win2 = 0;
    while (win1 < 3 && win2 < 3) {
        int score1 = 0;
        int score2 = 0;
        // игра идет, пока одна из команд не наберет 25 очков
        // и разница между очками не станет равной или больше 2
        while ((score1 < 25 && score2 < 25) || !(score1 - score2 >= 2 || score2 - score1 >= 2)) {
            tablo(team1, team2); // выводим текущую игровую таблицу
            cout << "кто выиграл розыгрыш? \n";
            int winner;
            cin >> winner; // вводим победителя розыгрыша
            cout << "какое действие? [1 - атака, 2 - блок, 3 - serve, 4 - промах] \n";
            int action;
            cin >> action; // вводим выбранное действие
            if (winner == 1) {
                perehod(team1); // двигаем игроков в первой команде
                score1++; // увеличиваем счет первой команды
            }
            else if (winner == 2) {
                perehod(team2); // двигаем игроков во второй команде
                score2++; // увеличиваем счет второй команды
            }
            if (action != 4) {
                cout << "какой игрок? \n";
                int player;
                int valid = 1; // переменная, отвечающая за достоверность выбранного игрока
                cin >> player; // вводим номер игрока
                do {
                    if (winner == 1) {
                        // проверяем, является ли игрок действительным в первой команде
                        for (int i = 0; i < 6; i++) {
                            if (team1[i] == player) {
                                valid = 0;
                                break;
                            }
                        }
                    }
                    if (winner == 2) {
                        // проверяем, является ли игрок действительным во второй команде
                        for (int i = 0; i < 6; i++) {
                            if (team2[i] == player) {
                                valid = 0;
                                break;
                            }
                        }
                    }
                    if (valid) {
                        cout << "неправильный игрок. \n";
                        cin >> player; // повторно вводим номер игрока
                    }
                } while (valid);
            }
        }
        if (score1 > score2) {
            win1++; // увеличиваем количество побед первой команды
        }
        else if (score2 > score1) {
            win2++; // увеличиваем количество побед второй команды
        }
    }
}

int main() {
    int team1[6] = { 7, 8, 9, 10, 11, 12 }; // игроки первой команды
    int team2[6] = { 1, 2, 3, 4, 5, 6 }; // игроки второй команды
    volleyball(team1, team2); // запускаем волейбольный матч

    return 0;
}
